<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Briansfomo | Intimate Gatherings</title>
    <meta name="description" content="End loneliness. Create belonging. Build bridges. Curated gatherings across Johannesburg.">
    
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#e76b55',
                        navy: '#1a2a3a',
                        gold: '#d4af37',
                        sage: '#8a9a5b',
                        background: '#f8f6f6',
                        card: '#ffffff'
                    },
                    fontFamily: {
                        sans: ['Be Vietnam Pro', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    
    <style>
        body {
            background-image: radial-gradient(#e5dddc 0.5px, transparent 0.5px);
            background-size: 20px 20px;
        }
        .animate-in {
            animation: fadeIn 0.5s ease-out forwards;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        html { scroll-behavior: smooth; }
        ::selection { background-color: rgba(231, 107, 85, 0.2); }
    </style>
    
    <script type="importmap">
    {
        "imports": {
            "react": "https://esm.sh/react@19",
            "react-dom": "https://esm.sh/react-dom@19",
            "react-dom/client": "https://esm.sh/react-dom@19/client"
        }
    }
    </script>
</head>
<body class="bg-background text-navy font-sans antialiased">
    <div id="root"></div>
    
    <script type="module">
        import React, { useState } from 'react';
        import { createRoot } from 'react-dom/client';

        const VIBE_PILLS = [
          { id: 'deep-conversations', label: 'Deep Conversations' },
          { id: 'light-playful', label: 'Light & Playful' },
          { id: 'good-listener', label: 'Good Listener' },
          { id: 'storyteller', label: 'Storyteller' },
          { id: 'quiet-presence', label: 'Quiet Presence' },
          { id: 'foodie', label: 'Foodie' },
          { id: 'music-lover', label: 'Music Lover' },
          { id: 'bookworm', label: 'Bookworm' },
          { id: 'creative-soul', label: 'Creative Soul' },
          { id: 'wellness-minded', label: 'Wellness Minded' },
          { id: 'culture-curious', label: 'Culture Curious' },
          { id: 'nature-lover', label: 'Nature Lover' },
          { id: 'first-timer', label: 'First Timer' },
          { id: 'connector', label: 'Connector' },
          { id: 'solo-explorer', label: 'Solo Explorer' },
          { id: 'open-book', label: 'Open Book' },
        ];

        const EVENT_CATEGORIES = [
          { id: 'sit', label: 'Come sit with us', desc: 'Shared meals, dinners' },
          { id: 'walk', label: 'Come walk with us', desc: 'Hikes, tours, walks' },
          { id: 'listen', label: 'Come listen with us', desc: 'Music, poetry, storytelling' },
          { id: 'play', label: 'Come play with us', desc: 'Games, sports, creative' },
          { id: 'quiet', label: 'Come be quiet with us', desc: 'Meditation, reading' },
        ];

        const SAMPLE_EVENTS = [
          {
            id: '1',
            title: 'Sunday Soul Food & Jazz',
            type: 'Come sit with us',
            category: 'sit',
            curator: { name: 'Thabo', avatar: 'https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=100&h=100&fit=crop&crop=face', bio: 'Keeping the spirit alive through food and music.' },
            date: 'Sat, Feb 14',
            time: '7:00 PM',
            location: 'Soweto',
            price: 250,
            capacity: 8,
            spotsLeft: 3,
            image: 'https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=600&h=400&fit=crop',
            description: 'An intimate evening of soul food, jazz, and real conversation.',
            houseRules: 'Shoes off at the door. Phones away during dinner.',
            whatsIncluded: 'Three-course meal, non-alcoholic beverages, live jazz',
            whatToBring: 'BYOB if you want wine. Bring your best story.',
          },
          {
            id: '2',
            title: "Valentine's Rooftop Dinner",
            type: 'Come sit with us',
            category: 'sit',
            curator: { name: 'Amina', avatar: 'https://images.unsplash.com/photo-1494790108377-be9c29b29330?w=100&h=100&fit=crop&crop=face', bio: 'Cape Malay heritage meets modern connection.' },
            date: 'Fri, Feb 14',
            time: '6:30 PM',
            location: 'Sandton',
            price: 300,
            capacity: 8,
            spotsLeft: 2,
            image: 'https://images.unsplash.com/photo-1529543544277-750e2dcc7376?w=600&h=400&fit=crop',
            description: "Don't spend Valentine's alone. Join us for a magical rooftop dinner.",
            houseRules: 'This is not a dating event. Come for connection, not romance.',
            whatsIncluded: 'Five-course tasting menu, welcome drink, city views',
            whatToBring: 'An open mind and empty stomach.',
          },
          {
            id: '3',
            title: 'Morning Hike & Coffee',
            type: 'Come walk with us',
            category: 'walk',
            curator: { name: 'Zanele', avatar: 'https://images.unsplash.com/photo-1438761681033-6461ffad8d80?w=100&h=100&fit=crop&crop=face', bio: 'Nature lover and community builder.' },
            date: 'Sun, Feb 16',
            time: '6:00 AM',
            location: 'Johannesburg',
            price: 150,
            capacity: 10,
            spotsLeft: 6,
            image: 'https://images.unsplash.com/photo-1551632811-561732d1e306?w=600&h=400&fit=crop',
            description: 'Start your Sunday with movement, fresh air, and meaningful conversation.',
            houseRules: 'Moderate fitness required. No headphones during the hike.',
            whatsIncluded: 'Guided hike, post-hike coffee',
            whatToBring: 'Water, comfortable shoes, sunscreen.',
          },
          {
            id: '4',
            title: 'Board Games & Braai',
            type: 'Come play with us',
            category: 'play',
            curator: { name: 'Sipho', avatar: 'https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=100&h=100&fit=crop&crop=face', bio: 'Bringing back the lost art of play.' },
            date: 'Sat, Feb 15',
            time: '2:00 PM',
            location: 'Rosebank',
            price: 200,
            capacity: 8,
            spotsLeft: 4,
            image: 'https://images.unsplash.com/photo-1610890716171-6b1bb98ffd09?w=600&h=400&fit=crop',
            description: 'Competitive but friendly board games, good food on the braai.',
            houseRules: 'Sore losers welcome. Cheaters not so much.',
            whatsIncluded: 'All games provided, braai meat and sides',
            whatToBring: 'BYOB. Your game face.',
          },
        ];

        const SA_BANKS = ['ABSA', 'Capitec', 'FNB', 'Nedbank', 'Standard Bank', 'African Bank', 'Investec', 'TymeBank'];
        const JHB_AREAS = ['Sandton', 'Soweto', 'Rosebank', 'Melville', 'Braamfontein', 'Parkhurst', 'Fourways', 'Randburg', 'Midrand', 'Centurion', 'Pretoria', 'Other'];

        const e = React.createElement;

        // Valentine's Banner
        const ValentineBanner = ({ onExplore }) => {
          const daysUntilValentines = Math.max(0, Math.ceil((new Date('2026-02-14') - new Date()) / (1000 * 60 * 60 * 24)));
          return e('div', { className: 'bg-gradient-to-r from-primary via-[#e85a47] to-primary text-white py-4 px-4' },
            e('div', { className: 'max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-3' },
              e('div', { className: 'flex items-center gap-3' },
                e('span', { className: 'material-symbols-outlined text-3xl animate-pulse' }, 'favorite'),
                e('div', null,
                  e('p', { className: 'font-black text-lg' }, "Don't spend Valentine's Day alone."),
                  e('p', { className: 'text-white/80 text-sm' }, `${daysUntilValentines} days left • 20 dinners • 160 seats`)
                )
              ),
              e('button', { onClick: onExplore, className: 'bg-white text-primary font-bold px-6 py-2 rounded-full hover:bg-white/90 transition-all hover:scale-105 active:scale-95 whitespace-nowrap' }, 'Find Your Table →')
            )
          );
        };

        // Header with Inclusivity Manifesto menu
        const Header = ({ currentView, setView, userRole }) => {
          const [menuOpen, setMenuOpen] = useState(false);
          const [gatheringsOpen, setGatheringsOpen] = useState(false);

          return e('header', { className: 'sticky top-0 z-50 w-full border-b border-[#e5dddc] bg-white/95 backdrop-blur-md px-4 md:px-8 py-3' },
            e('div', { className: 'max-w-7xl mx-auto flex items-center justify-between' },
              e('div', { className: 'flex items-center gap-2 text-primary cursor-pointer', onClick: () => setView('home') },
                e('div', { className: 'size-8' },
                  e('svg', { fill: 'currentColor', viewBox: '0 0 48 48' },
                    e('path', { d: 'M4 42.4379C4 42.4379 14.0962 36.0744 24 41.1692C35.0664 46.8624 44 42.2078 44 42.2078L44 7.01134C44 7.01134 35.068 11.6577 24.0031 5.96913C14.0971 0.876274 4 7.27094 4 7.27094L4 42.4379Z' })
                  )
                ),
                e('span', { className: 'font-black text-xl tracking-tight text-navy' }, 'BRIANSFOMO')
              ),
              e('nav', { className: 'hidden md:flex items-center gap-6 font-bold text-sm' },
                e('div', { className: 'relative', onMouseEnter: () => setGatheringsOpen(true), onMouseLeave: () => setGatheringsOpen(false) },
                  e('button', { className: `hover:text-primary transition-colors flex items-center gap-1 py-2 ${currentView.startsWith('explore') ? 'text-primary' : ''}` },
                    'Gatherings',
                    e('span', { className: 'material-symbols-outlined text-lg' }, 'expand_more')
                  ),
                  gatheringsOpen && e('div', { className: 'absolute left-0 mt-0 w-64 bg-white border border-[#e5dddc] rounded-2xl shadow-2xl py-3 overflow-hidden' },
                    e('button', { onClick: () => { setView('explore'); setGatheringsOpen(false); }, className: 'w-full px-4 py-3 text-left hover:bg-primary/5 transition-colors' },
                      e('div', { className: 'font-bold' }, 'All Gatherings'),
                      e('div', { className: 'text-xs text-navy/50' }, 'Browse everything')
                    ),
                    ...EVENT_CATEGORIES.map(cat =>
                      e('button', { key: cat.id, onClick: () => { setView(`explore-${cat.id}`); setGatheringsOpen(false); }, className: 'w-full px-4 py-3 text-left hover:bg-primary/5 transition-colors' },
                        e('div', { className: 'font-bold' }, cat.label),
                        e('div', { className: 'text-xs text-navy/50' }, cat.desc)
                      )
                    )
                  )
                ),
                e('button', { onClick: () => setView('join-movement'), className: `hover:text-primary transition-colors py-2 ${currentView === 'join-movement' ? 'text-primary' : ''}` }, 'Join Movement'),
                e('button', { onClick: () => setView('inclusivity'), className: `hover:text-primary transition-colors py-2 ${currentView === 'inclusivity' ? 'text-primary' : ''}` }, 'Inclusivity Manifesto')
              ),
              e('button', { className: 'md:hidden p-2', onClick: () => setMenuOpen(!menuOpen) },
                e('span', { className: 'material-symbols-outlined text-2xl' }, menuOpen ? 'close' : 'menu')
              )
            ),
            menuOpen && e('div', { className: 'md:hidden absolute top-full left-0 w-full bg-white border-b border-[#e5dddc] shadow-lg py-4 px-4' },
              e('div', { className: 'flex flex-col gap-2' },
                e('button', { onClick: () => { setView('explore'); setMenuOpen(false); }, className: 'text-left py-3 px-4 rounded-xl hover:bg-primary/5 font-bold' }, 'Browse Gatherings'),
                e('button', { onClick: () => { setView('join-movement'); setMenuOpen(false); }, className: 'text-left py-3 px-4 rounded-xl hover:bg-primary/5 font-bold' }, 'Join Movement'),
                e('button', { onClick: () => { setView('inclusivity'); setMenuOpen(false); }, className: 'text-left py-3 px-4 rounded-xl hover:bg-primary/5 font-bold' }, 'Inclusivity Manifesto'),
                e('button', { onClick: () => { setView('safe-exit'); setMenuOpen(false); }, className: 'text-left py-3 px-4 rounded-xl hover:bg-primary/5 font-bold' }, 'Safe Exit Protocol'),
                e('hr', { className: 'my-2 border-[#e5dddc]' }),
                e('button', { onClick: () => { setView('apply'); setMenuOpen(false); }, className: 'text-left py-3 px-4 rounded-xl hover:bg-primary/5 font-bold text-primary' }, 'Become a Curator')
              )
            )
          );
        };

        // Footer
        const Footer = ({ setView }) => e('footer', { className: 'bg-navy text-white py-16 px-4 md:px-8' },
          e('div', { className: 'max-w-7xl mx-auto' },
            e('div', { className: 'grid md:grid-cols-4 gap-12' },
              e('div', { className: 'md:col-span-2' },
                e('h3', { className: 'font-black text-2xl mb-2' }, 'BRIANSFOMO'),
                e('p', { className: 'text-white/60 italic mb-6' }, '"Come be with us, Mntase."'),
                e('p', { className: 'text-white/40 text-sm' }, 'Our mission is to end loneliness.')
              ),
              e('div', null,
                e('h4', { className: 'font-bold text-white/80 mb-4' }, 'Platform'),
                e('ul', { className: 'space-y-2 text-sm' },
                  e('li', null, e('button', { onClick: () => setView('explore'), className: 'text-white/60 hover:text-primary transition-colors' }, 'Browse Events')),
                  e('li', null, e('button', { onClick: () => setView('join-movement'), className: 'text-white/60 hover:text-primary transition-colors' }, 'Join the Movement')),
                  e('li', null, e('button', { onClick: () => setView('apply'), className: 'text-white/60 hover:text-primary transition-colors' }, 'Become a Curator'))
                )
              ),
              e('div', null,
                e('h4', { className: 'font-bold text-white/80 mb-4' }, 'Belonging'),
                e('ul', { className: 'space-y-2 text-sm' },
                  e('li', null, e('button', { onClick: () => setView('safe-exit'), className: 'text-white/60 hover:text-primary transition-colors' }, 'Safe Exit Protocol')),
                  e('li', null, e('button', { onClick: () => setView('inclusivity'), className: 'text-white/60 hover:text-primary transition-colors' }, 'Inclusivity Manifesto'))
                )
              )
            ),
            e('div', { className: 'mt-12 pt-8 border-t border-white/10 flex flex-col md:flex-row justify-between items-center gap-4 text-sm text-white/40' },
              e('p', null, '© 2026 BRIANSFOMO. Curated with love in South Africa.'),
              e('div', { className: 'flex gap-6' },
                e('a', { href: '#', className: 'hover:text-primary transition-colors' }, 'Privacy'),
                e('a', { href: '#', className: 'hover:text-primary transition-colors' }, 'Terms')
              )
            )
          )
        );

        // Event Card
        const EventCard = ({ event, onClick }) => e('div', { onClick, className: 'bg-white rounded-3xl overflow-hidden shadow-lg hover:shadow-2xl transition-all cursor-pointer group hover:-translate-y-1' },
          e('div', { className: 'relative h-48 overflow-hidden' },
            e('img', { src: event.image, alt: event.title, className: 'w-full h-full object-cover group-hover:scale-105 transition-transform duration-500' }),
            e('div', { className: 'absolute top-4 left-4' },
              e('span', { className: 'bg-white/90 backdrop-blur-sm text-navy text-xs font-bold px-3 py-1 rounded-full' }, event.type)
            ),
            event.spotsLeft <= 3 && e('div', { className: 'absolute top-4 right-4' },
              e('span', { className: 'bg-primary text-white text-xs font-bold px-3 py-1 rounded-full animate-pulse' }, `${event.spotsLeft} spots left!`)
            )
          ),
          e('div', { className: 'p-5' },
            e('h3', { className: 'font-black text-lg mb-2 group-hover:text-primary transition-colors' }, event.title),
            e('div', { className: 'flex items-center gap-2 text-sm text-navy/60 mb-3' },
              e('span', { className: 'material-symbols-outlined text-base' }, 'calendar_today'),
              `${event.date} • ${event.time}`
            ),
            e('div', { className: 'flex items-center gap-2 text-sm text-navy/60 mb-4' },
              e('span', { className: 'material-symbols-outlined text-base' }, 'location_on'),
              event.location
            ),
            e('div', { className: 'flex items-center justify-between' },
              e('div', { className: 'flex items-center gap-2' },
                e('img', { src: event.curator.avatar, alt: event.curator.name, className: 'size-8 rounded-full border-2 border-primary/20' }),
                e('span', { className: 'text-sm font-medium' }, event.curator.name)
              ),
              e('span', { className: 'font-black text-primary' }, `R${event.price}`)
            )
          )
        );

        // Vibe Pill
        const VibePill = ({ vibe, selected, onClick, disabled }) => e('button', {
          type: 'button',
          onClick,
          disabled: disabled && !selected,
          className: `px-4 py-2 rounded-full text-sm font-bold transition-all ${selected ? 'bg-primary text-white scale-105' : disabled ? 'bg-gray-100 text-gray-400 cursor-not-allowed' : 'bg-primary/10 text-navy hover:bg-primary/20 hover:scale-105'}`
        }, vibe.label);

        // ============================================
        // NEW LANDING PAGE - Customer Education Focus
        // ============================================
        const LandingPage = ({ setView }) => e('div', { className: 'animate-in' },
          // Hero Section - Simplified (No Ubuntu reference)
          e('section', { className: 'relative min-h-[60vh] flex items-center justify-center px-4 py-16 overflow-hidden' },
            e('div', { className: 'absolute inset-0 bg-gradient-to-br from-background via-white to-primary/5' }),
            e('div', { className: 'relative z-10 max-w-4xl mx-auto text-center' },
              e('h1', { className: 'text-5xl md:text-7xl font-black text-navy mb-6 leading-tight' },
                'Curated gatherings',
                e('br'),
                e('span', { className: 'text-primary' }, 'anywhere.')
              ),
              e('p', { className: 'text-2xl text-navy/70 mb-10 max-w-2xl mx-auto' },
                'Our mission is to end loneliness.'
              ),
              e('div', { className: 'flex flex-wrap gap-4 justify-center' },
                e('button', { onClick: () => setView('explore'), className: 'bg-primary text-white font-black h-14 px-10 rounded-2xl shadow-xl hover:shadow-2xl hover:scale-105 active:scale-95 transition-all' }, 'Find a Gathering'),
                e('button', { onClick: () => setView('join-movement'), className: 'bg-white text-navy font-black h-14 px-10 rounded-2xl shadow-xl border-2 border-navy/10 hover:border-primary hover:text-primary hover:scale-105 active:scale-95 transition-all' }, 'Join the Movement')
              )
            )
          ),

          // Why We're Different
          e('section', { className: 'py-20 px-4 bg-navy text-white' },
            e('div', { className: 'max-w-6xl mx-auto' },
              e('div', { className: 'text-center mb-16' },
                e('h2', { className: 'text-4xl font-black mb-4' }, "We're not another events app."),
                e('p', { className: 'text-xl text-white/70 max-w-3xl mx-auto' }, 
                  "Intimacy over crowds. Trust over algorithms. Connection over transactions."
                )
              ),
              e('div', { className: 'grid md:grid-cols-3 gap-8 text-center' },
                e('div', { className: 'p-6' },
                  e('div', { className: 'text-6xl font-black text-primary mb-2' }, '8'),
                  e('p', { className: 'text-white/80 font-bold' }, 'Maximum guests'),
                  e('p', { className: 'text-sm text-white/50 mt-2' }, 'Small enough for real conversation')
                ),
                e('div', { className: 'p-6' },
                  e('div', { className: 'text-6xl font-black text-primary mb-2' }, '100%'),
                  e('p', { className: 'text-white/80 font-bold' }, 'Referral-only'),
                  e('p', { className: 'text-sm text-white/50 mt-2' }, 'Everyone is vouched for')
                ),
                e('div', { className: 'p-6' },
                  e('div', { className: 'text-6xl font-black text-primary mb-2' }, '70%'),
                  e('p', { className: 'text-white/80 font-bold' }, 'Goes to Curators'),
                  e('p', { className: 'text-sm text-white/50 mt-2' }, 'Hosts earn, not just us')
                )
              )
            )
          ),

          // For Mntases (Guests) Section
          e('section', { className: 'py-20 px-4 bg-white' },
            e('div', { className: 'max-w-6xl mx-auto' },
              e('div', { className: 'grid md:grid-cols-2 gap-16 items-center' },
                e('div', null,
                  e('p', { className: 'text-primary font-bold tracking-widest uppercase mb-4' }, 'For Guests'),
                  e('h2', { className: 'text-4xl font-black mb-6' }, 'Our Promise to Every Mntase'),
                  e('p', { className: 'text-lg text-navy/60 mb-8' }, 
                    '"Mntase" means child from home. If you\'re here, you belong.'
                  ),
                  e('div', { className: 'space-y-6' },
                    e('div', { className: 'flex gap-4' },
                      e('div', { className: 'size-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0' },
                        e('span', { className: 'material-symbols-outlined text-primary' }, 'groups')
                      ),
                      e('div', null,
                        e('h3', { className: 'font-bold text-lg' }, 'Intimate Gatherings'),
                        e('p', { className: 'text-navy/60' }, 'Intimacy over crowds. Small gatherings designed for real conversation, not awkward mingling.')
                      )
                    ),
                    e('div', { className: 'flex gap-4' },
                      e('div', { className: 'size-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0' },
                        e('span', { className: 'material-symbols-outlined text-primary' }, 'verified_user')
                      ),
                      e('div', null,
                        e('h3', { className: 'font-bold text-lg' }, 'Security Through Referrals'),
                        e('p', { className: 'text-navy/60' }, 'Every person is vouched for by someone in the community. No random strangers from the internet.')
                      )
                    ),
                    e('div', { className: 'flex gap-4' },
                      e('div', { className: 'size-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0' },
                        e('span', { className: 'material-symbols-outlined text-primary' }, 'diversity_3')
                      ),
                      e('div', null,
                        e('h3', { className: 'font-bold text-lg' }, 'Inclusivity in Our DNA'),
                        e('p', { className: 'text-navy/60' }, 'Safe Exit protocols let you leave any gathering without explanation. Your comfort always comes first.')
                      )
                    ),
                    e('div', { className: 'flex gap-4' },
                      e('div', { className: 'size-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0' },
                        e('span', { className: 'material-symbols-outlined text-primary' }, 'handshake')
                      ),
                      e('div', null,
                        e('h3', { className: 'font-bold text-lg' }, 'Bridges, Not Bubbles'),
                        e('p', { className: 'text-navy/60' }, 'Meet people from different backgrounds, neighbourhoods, and walks of life. Soweto meets Sandton.')
                      )
                    )
                  ),
                  e('button', { onClick: () => setView('mntase-apply'), className: 'mt-10 bg-primary text-white font-black h-14 px-10 rounded-2xl shadow-xl hover:scale-105 active:scale-95 transition-all' }, 'Join as a Mntase →')
                ),
                e('div', { className: 'relative' },
                  e('img', { src: 'https://images.unsplash.com/photo-1529543544277-750e2dcc7376?w=600&h=700&fit=crop', alt: 'Gathering', className: 'rounded-3xl shadow-2xl' }),
                  e('div', { className: 'absolute -bottom-6 -left-6 bg-primary text-white p-6 rounded-2xl shadow-xl' },
                    e('p', { className: 'font-black text-2xl' }, '160+'),
                    e('p', { className: 'text-sm text-white/80' }, 'seats for Valentine\'s Day')
                  )
                )
              )
            )
          ),

          // For Curators (Hosts) Section
          e('section', { className: 'py-20 px-4 bg-gradient-to-br from-navy to-[#0f1a24] text-white' },
            e('div', { className: 'max-w-6xl mx-auto' },
              e('div', { className: 'grid md:grid-cols-2 gap-16 items-center' },
                e('div', { className: 'order-2 md:order-1 relative' },
                  e('img', { src: 'https://images.unsplash.com/photo-1414235077428-338989a2e8c0?w=600&h=700&fit=crop', alt: 'Curator hosting', className: 'rounded-3xl shadow-2xl' }),
                  e('div', { className: 'absolute -bottom-6 -right-6 bg-white text-navy p-6 rounded-2xl shadow-xl' },
                    e('p', { className: 'font-black text-2xl text-primary' }, 'R1,400+'),
                    e('p', { className: 'text-sm text-navy/60' }, 'per gathering (your 70%)')
                  )
                ),
                e('div', { className: 'order-1 md:order-2' },
                  e('p', { className: 'text-primary font-bold tracking-widest uppercase mb-4' }, 'For Hosts'),
                  e('h2', { className: 'text-4xl font-black mb-6' }, 'Our Promise to Every Curator'),
                  e('p', { className: 'text-lg text-white/60 mb-8' }, 
                    'Turn your table into income. No car. No property. Just your hospitality.'
                  ),
                  e('div', { className: 'space-y-6' },
                    e('div', { className: 'flex gap-4' },
                      e('div', { className: 'size-12 rounded-full bg-white/10 flex items-center justify-center flex-shrink-0' },
                        e('span', { className: 'material-symbols-outlined text-primary' }, 'payments')
                      ),
                      e('div', null,
                        e('h3', { className: 'font-bold text-lg' }, 'Capital-Light Income'),
                        e('p', { className: 'text-white/60' }, 'No expensive equipment or assets required. Your culture, your cooking, your story — that\'s your capital.')
                      )
                    ),
                    e('div', { className: 'flex gap-4' },
                      e('div', { className: 'size-12 rounded-full bg-white/10 flex items-center justify-center flex-shrink-0' },
                        e('span', { className: 'material-symbols-outlined text-primary' }, 'shield')
                      ),
                      e('div', null,
                        e('h3', { className: 'font-bold text-lg' }, 'Safety Through Referrals'),
                        e('p', { className: 'text-white/60' }, 'Every guest is vetted by the community. You\'re not opening your home to strangers — only to trusted people.')
                      )
                    ),
                    e('div', { className: 'flex gap-4' },
                      e('div', { className: 'size-12 rounded-full bg-white/10 flex items-center justify-center flex-shrink-0' },
                        e('span', { className: 'material-symbols-outlined text-primary' }, 'home')
                      ),
                      e('div', null,
                        e('h3', { className: 'font-bold text-lg' }, 'Total Sovereignty'),
                        e('p', { className: 'text-white/60' }, 'Your home, your rules. You choose who comes. You set the vibe. We handle the logistics, never override you.')
                      )
                    ),
                    e('div', { className: 'flex gap-4' },
                      e('div', { className: 'size-12 rounded-full bg-white/10 flex items-center justify-center flex-shrink-0' },
                        e('span', { className: 'material-symbols-outlined text-primary' }, 'trending_up')
                      ),
                      e('div', null,
                        e('h3', { className: 'font-bold text-lg' }, 'Fair Economics'),
                        e('p', { className: 'text-white/60' }, 'You keep 70%. Budgeting tools ensure you never lose money. Host 6 dinners a month, earn R8,400+.')
                      )
                    ),
                    e('div', { className: 'flex gap-4' },
                      e('div', { className: 'size-12 rounded-full bg-white/10 flex items-center justify-center flex-shrink-0' },
                        e('span', { className: 'material-symbols-outlined text-primary' }, 'groups_2')
                      ),
                      e('div', null,
                        e('h3', { className: 'font-bold text-lg' }, 'Curator Community'),
                        e('p', { className: 'text-white/60' }, 'Join a network of hosts. Share tips, get support, grow together. You\'re never alone in this.')
                      )
                    )
                  ),
                  e('button', { onClick: () => setView('apply'), className: 'mt-10 bg-primary text-white font-black h-14 px-10 rounded-2xl shadow-xl hover:scale-105 active:scale-95 transition-all' }, 'Become a Curator →')
                )
              )
            )
          ),

          // Testimonials
          e('section', { className: 'py-20 px-4 bg-primary/5' },
            e('div', { className: 'max-w-4xl mx-auto text-center' },
              e('h2', { className: 'text-3xl font-black mb-12' }, 'What People Are Saying'),
              e('div', { className: 'grid md:grid-cols-2 gap-8' },
                e('div', { className: 'bg-white p-8 rounded-3xl shadow-lg text-left' },
                  e('p', { className: 'text-lg italic mb-4 text-navy/70' }, '"My first \'Come sit with us\' felt like coming home to a family I didn\'t know I had."'),
                  e('p', { className: 'text-primary font-bold' }, '— Lerato, Mntase')
                ),
                e('div', { className: 'bg-white p-8 rounded-3xl shadow-lg text-left' },
                  e('p', { className: 'text-lg italic mb-4 text-navy/70' }, '"I earn R8,400 a month hosting 6 dinners. No car needed. Just my grandmother\'s recipes."'),
                  e('p', { className: 'text-primary font-bold' }, '— Thabo, Curator')
                )
              )
            )
          ),

          // Final CTA
          e('section', { className: 'py-20 px-4 bg-white' },
            e('div', { className: 'max-w-4xl mx-auto text-center' },
              e('h2', { className: 'text-4xl font-black text-navy mb-6' }, 'Ready to find your table?'),
              e('p', { className: 'text-xl text-navy/60 mb-10' }, "160 strangers becoming friends this Valentine's Day."),
              e('div', { className: 'flex flex-wrap gap-4 justify-center' },
                e('button', { onClick: () => setView('explore'), className: 'bg-primary text-white font-black h-16 px-12 rounded-2xl text-lg shadow-xl hover:scale-105 active:scale-95 transition-all' }, 'Browse Gatherings'),
                e('button', { onClick: () => setView('apply'), className: 'bg-navy text-white font-black h-16 px-12 rounded-2xl text-lg shadow-xl hover:scale-105 active:scale-95 transition-all' }, 'Become a Curator')
              )
            )
          )
        );

        // Explore Page
        const ExplorePage = ({ setView, setSelectedEvent, categoryFilter }) => {
          const filteredEvents = categoryFilter ? SAMPLE_EVENTS.filter(ev => ev.category === categoryFilter) : SAMPLE_EVENTS;
          return e('div', { className: 'max-w-7xl mx-auto px-4 py-12 animate-in' },
            e('div', { className: 'mb-12' },
              e('h1', { className: 'text-4xl font-black mb-4' }, 'Find a Gathering'),
              e('p', { className: 'text-navy/60 text-lg' }, categoryFilter ? EVENT_CATEGORIES.find(c => c.id === categoryFilter)?.label : 'All gatherings across Johannesburg')
            ),
            e('div', { className: 'flex flex-wrap gap-3 mb-8' },
              e('button', { onClick: () => setView('explore'), className: `px-5 py-2 rounded-full font-bold transition-all ${!categoryFilter ? 'bg-primary text-white' : 'bg-primary/10 text-navy hover:bg-primary/20'}` }, 'All'),
              ...EVENT_CATEGORIES.map(cat => e('button', { key: cat.id, onClick: () => setView(`explore-${cat.id}`), className: `px-5 py-2 rounded-full font-bold transition-all ${categoryFilter === cat.id ? 'bg-primary text-white' : 'bg-primary/10 text-navy hover:bg-primary/20'}` }, cat.label))
            ),
            e('div', { className: 'grid md:grid-cols-2 lg:grid-cols-3 gap-8' },
              filteredEvents.map(event => e(EventCard, { key: event.id, event, onClick: () => { setSelectedEvent(event); setView('event-detail'); } }))
            )
          );
        };

        // Event Detail Page
        const EventDetailPage = ({ event, setView, userProfile, setBookingStatus }) => {
          const [applying, setApplying] = useState(false);
          if (!event) return null;
          const handleApply = () => {
            if (!userProfile) { setView('mntase-apply'); return; }
            setApplying(true);
            setTimeout(() => { setBookingStatus('applied'); setView('booking-status'); }, 1500);
          };
          return e('div', { className: 'max-w-4xl mx-auto px-4 py-12 animate-in' },
            e('button', { onClick: () => setView('explore'), className: 'flex items-center gap-2 text-navy/60 hover:text-primary mb-8 font-bold' },
              e('span', { className: 'material-symbols-outlined' }, 'arrow_back'), 'Back to Gatherings'
            ),
            e('div', { className: 'relative h-80 rounded-3xl overflow-hidden mb-8' },
              e('img', { src: event.image, alt: event.title, className: 'w-full h-full object-cover' }),
              e('div', { className: 'absolute inset-0 bg-gradient-to-t from-black/60 to-transparent' }),
              e('div', { className: 'absolute bottom-6 left-6 text-white' },
                e('span', { className: 'bg-white/20 backdrop-blur-sm px-3 py-1 rounded-full text-sm font-bold mb-2 inline-block' }, event.type),
                e('h1', { className: 'text-4xl font-black' }, event.title)
              )
            ),
            e('div', { className: 'grid md:grid-cols-3 gap-8' },
              e('div', { className: 'md:col-span-2 space-y-8' },
                e('div', { className: 'flex items-center gap-4 p-6 bg-primary/5 rounded-2xl' },
                  e('img', { src: event.curator.avatar, className: 'size-16 rounded-full border-4 border-primary/20' }),
                  e('div', null,
                    e('p', { className: 'text-sm text-navy/60' }, 'Curated by'),
                    e('p', { className: 'font-black text-xl' }, event.curator.name),
                    e('p', { className: 'text-navy/60 text-sm' }, event.curator.bio)
                  )
                ),
                e('div', null, e('h2', { className: 'font-black text-xl mb-4' }, 'About'), e('p', { className: 'text-navy/70' }, event.description)),
                e('div', null, e('h2', { className: 'font-black text-xl mb-4' }, "What's included"), e('p', { className: 'text-navy/70' }, event.whatsIncluded)),
                e('div', null, e('h2', { className: 'font-black text-xl mb-4' }, 'House rules'), e('p', { className: 'text-navy/70' }, event.houseRules)),
                e('div', { className: 'p-6 bg-navy/5 rounded-2xl' },
                  e('div', { className: 'flex items-start gap-4' },
                    e('span', { className: 'material-symbols-outlined text-primary text-3xl' }, 'shield'),
                    e('div', null,
                      e('h3', { className: 'font-bold mb-2' }, 'Safe Exit Protocol'),
                      e('p', { className: 'text-navy/60 text-sm' }, 'If you ever need to leave, say "Yizo, Mntase" — no questions asked.'),
                      e('button', { onClick: () => setView('safe-exit'), className: 'text-primary font-bold text-sm mt-2 hover:underline' }, 'Learn more →')
                    )
                  )
                )
              ),
              e('div', null,
                e('div', { className: 'sticky top-32 bg-white border-2 border-navy/10 rounded-3xl p-6 shadow-xl' },
                  e('div', { className: 'text-3xl font-black text-primary mb-2' }, `R${event.price}`),
                  e('p', { className: 'text-navy/60 text-sm mb-6' }, 'per person'),
                  e('div', { className: 'space-y-4 mb-6' },
                    e('div', { className: 'flex items-center gap-3' },
                      e('span', { className: 'material-symbols-outlined text-navy/40' }, 'calendar_today'),
                      e('div', null, e('p', { className: 'font-bold' }, event.date), e('p', { className: 'text-sm text-navy/60' }, event.time))
                    ),
                    e('div', { className: 'flex items-center gap-3' },
                      e('span', { className: 'material-symbols-outlined text-navy/40' }, 'location_on'),
                      e('div', null, e('p', { className: 'font-bold' }, event.location))
                    ),
                    e('div', { className: 'flex items-center gap-3' },
                      e('span', { className: 'material-symbols-outlined text-navy/40' }, 'group'),
                      e('p', { className: 'font-bold' }, `${event.spotsLeft} spots left`)
                    )
                  ),
                  e('button', { onClick: handleApply, disabled: applying, className: 'w-full bg-primary text-white font-black py-4 rounded-2xl hover:bg-primary/90 transition-all disabled:opacity-50' }, applying ? 'Applying...' : 'Apply to Book'),
                  e('p', { className: 'text-xs text-navy/40 text-center mt-4' }, 'Curator reviews your profile before confirming.')
                )
              )
            )
          );
        };

        // Join Movement Page
        const JoinMovementPage = ({ setView }) => e('div', { className: 'max-w-5xl mx-auto px-4 py-20 animate-in' },
          e('div', { className: 'text-center mb-16' },
            e('h1', { className: 'text-5xl font-black mb-4' }, 'Choose Your Path'),
            e('p', { className: 'text-xl text-navy/60' }, 'Two ways to be part of the movement.')
          ),
          e('div', { className: 'grid md:grid-cols-2 gap-8' },
            e('div', { className: 'bg-white rounded-3xl p-8 shadow-xl border-2 border-transparent hover:border-primary transition-all' },
              e('div', { className: 'size-16 rounded-2xl bg-primary/10 flex items-center justify-center mb-6' },
                e('span', { className: 'material-symbols-outlined text-primary text-3xl' }, 'person_pin')
              ),
              e('h2', { className: 'text-3xl font-black mb-4' }, 'Become a Mntase'),
              e('p', { className: 'text-navy/60 mb-6' }, 'Find intimate tables, make real friends, experience community.'),
              e('ul', { className: 'space-y-3 mb-8' },
                ['Intimacy over crowds', 'Referral-only security', 'Inclusivity in our DNA', 'Bridges, not bubbles'].map((item, i) =>
                  e('li', { key: i, className: 'flex items-center gap-3' },
                    e('span', { className: 'material-symbols-outlined text-primary' }, 'check_circle'),
                    e('span', { className: 'text-navy/70' }, item)
                  )
                )
              ),
              e('button', { onClick: () => setView('mntase-apply'), className: 'w-full bg-primary text-white font-black py-4 rounded-2xl' }, 'Apply to Join')
            ),
            e('div', { className: 'bg-white rounded-3xl p-8 shadow-xl border-2 border-transparent hover:border-navy transition-all' },
              e('div', { className: 'size-16 rounded-2xl bg-navy/10 flex items-center justify-center mb-6' },
                e('span', { className: 'material-symbols-outlined text-navy text-3xl' }, 'auto_awesome')
              ),
              e('h2', { className: 'text-3xl font-black mb-4' }, 'Become a Curator'),
              e('p', { className: 'text-navy/60 mb-6' }, 'Open your table, earn income, build community.'),
              e('ul', { className: 'space-y-3 mb-8' },
                ['Capital-light income (70%)', 'Safety through referrals', 'Total sovereignty', 'Curator community'].map((item, i) =>
                  e('li', { key: i, className: 'flex items-center gap-3' },
                    e('span', { className: 'material-symbols-outlined text-navy' }, 'verified'),
                    e('span', { className: 'text-navy/70' }, item)
                  )
                )
              ),
              e('button', { onClick: () => setView('apply'), className: 'w-full bg-navy text-white font-black py-4 rounded-2xl' }, 'Start Hosting')
            )
          )
        );

        // Mntase Application
        const MntaseApplicationPage = ({ setView, setUserProfile }) => {
          const [step, setStep] = useState(1);
          const [formData, setFormData] = useState({ firstName: '', lastName: '', cellNumber: '', intro: '', selectedVibes: [] });
          const [errors, setErrors] = useState({});
          const validateStep1 = () => {
            const errs = {};
            if (!formData.firstName.trim()) errs.firstName = 'Required';
            if (!formData.lastName.trim()) errs.lastName = 'Required';
            if (!formData.cellNumber.trim()) errs.cellNumber = 'Required';
            else if (!/^(\+27|0)[0-9]{9}$/.test(formData.cellNumber.replace(/\s/g, ''))) errs.cellNumber = 'Invalid SA number';
            setErrors(errs);
            return Object.keys(errs).length === 0;
          };
          const validateStep2 = () => {
            const errs = {};
            if (!formData.intro.trim() || formData.intro.length < 10) errs.intro = 'Min 10 characters';
            if (formData.intro.length > 150) errs.intro = 'Max 150 characters';
            setErrors(errs);
            return Object.keys(errs).length === 0;
          };
          const validateStep3 = () => {
            const errs = {};
            if (formData.selectedVibes.length < 3) errs.vibes = 'Select at least 3';
            setErrors(errs);
            return Object.keys(errs).length === 0;
          };
          const handleNext = () => {
            if (step === 1 && validateStep1()) setStep(2);
            else if (step === 2 && validateStep2()) setStep(3);
            else if (step === 3 && validateStep3()) {
              setUserProfile({ ...formData, role: 'mntase' });
              setView('mntase-pending');
            }
          };
          const toggleVibe = (id) => {
            setFormData(prev => ({
              ...prev,
              selectedVibes: prev.selectedVibes.includes(id) ? prev.selectedVibes.filter(v => v !== id) : prev.selectedVibes.length < 5 ? [...prev.selectedVibes, id] : prev.selectedVibes
            }));
          };
          return e('div', { className: 'max-w-2xl mx-auto px-4 py-16 animate-in' },
            e('div', { className: 'flex items-center justify-center gap-2 mb-12' },
              [1,2,3].map(s => e(React.Fragment, { key: s },
                e('div', { className: `size-10 rounded-full flex items-center justify-center font-bold ${step >= s ? 'bg-primary text-white' : 'bg-navy/10 text-navy/40'}` }, s),
                s < 3 && e('div', { className: `w-16 h-1 rounded ${step > s ? 'bg-primary' : 'bg-navy/10'}` })
              ))
            ),
            step === 1 && e('div', { className: 'space-y-6' },
              e('h1', { className: 'text-4xl font-black text-center mb-8' }, 'Join as Mntase'),
              e('div', null,
                e('label', { className: 'block font-bold mb-2' }, 'First Name'),
                e('input', { type: 'text', value: formData.firstName, onChange: ev => setFormData({...formData, firstName: ev.target.value}), className: `w-full px-5 py-4 rounded-2xl border-2 ${errors.firstName ? 'border-red-400' : 'border-navy/10'} focus:border-primary outline-none` }),
                errors.firstName && e('p', { className: 'text-red-500 text-sm mt-1' }, errors.firstName)
              ),
              e('div', null,
                e('label', { className: 'block font-bold mb-2' }, 'Last Name'),
                e('input', { type: 'text', value: formData.lastName, onChange: ev => setFormData({...formData, lastName: ev.target.value}), className: `w-full px-5 py-4 rounded-2xl border-2 ${errors.lastName ? 'border-red-400' : 'border-navy/10'} focus:border-primary outline-none` }),
                errors.lastName && e('p', { className: 'text-red-500 text-sm mt-1' }, errors.lastName)
              ),
              e('div', null,
                e('label', { className: 'block font-bold mb-2' }, 'Cell Number'),
                e('input', { type: 'tel', value: formData.cellNumber, onChange: ev => setFormData({...formData, cellNumber: ev.target.value}), placeholder: '072 123 4567', className: `w-full px-5 py-4 rounded-2xl border-2 ${errors.cellNumber ? 'border-red-400' : 'border-navy/10'} focus:border-primary outline-none` }),
                errors.cellNumber && e('p', { className: 'text-red-500 text-sm mt-1' }, errors.cellNumber)
              ),
              e('button', { onClick: handleNext, className: 'w-full bg-primary text-white font-black py-4 rounded-2xl mt-4' }, 'Continue')
            ),
            step === 2 && e('div', { className: 'space-y-6' },
              e('h1', { className: 'text-4xl font-black text-center mb-4' }, 'Introduce Yourself'),
              e('p', { className: 'text-navy/60 text-center mb-8' }, 'One sentence about yourself.'),
              e('div', null,
                e('textarea', { value: formData.intro, onChange: ev => setFormData({...formData, intro: ev.target.value}), placeholder: "I'm a designer who loves jazz...", rows: 4, maxLength: 150, className: `w-full px-5 py-4 rounded-2xl border-2 ${errors.intro ? 'border-red-400' : 'border-navy/10'} focus:border-primary outline-none resize-none` }),
                e('div', { className: 'flex justify-between mt-2' },
                  errors.intro && e('p', { className: 'text-red-500 text-sm' }, errors.intro),
                  e('p', { className: 'text-navy/40 text-sm ml-auto' }, `${formData.intro.length}/150`)
                )
              ),
              e('div', { className: 'flex gap-4' },
                e('button', { onClick: () => setStep(1), className: 'flex-1 bg-navy/10 text-navy font-black py-4 rounded-2xl' }, 'Back'),
                e('button', { onClick: handleNext, className: 'flex-1 bg-primary text-white font-black py-4 rounded-2xl' }, 'Continue')
              )
            ),
            step === 3 && e('div', { className: 'space-y-6' },
              e('h1', { className: 'text-4xl font-black text-center mb-4' }, 'Select Your Vibes'),
              e('p', { className: 'text-navy/60 text-center mb-8' }, 'Choose 3-5 vibes that describe you.'),
              e('div', { className: 'flex flex-wrap gap-3 justify-center' },
                VIBE_PILLS.map(vibe => e(VibePill, { key: vibe.id, vibe, selected: formData.selectedVibes.includes(vibe.id), onClick: () => toggleVibe(vibe.id), disabled: formData.selectedVibes.length >= 5 }))
              ),
              errors.vibes && e('p', { className: 'text-red-500 text-sm text-center mt-4' }, errors.vibes),
              e('p', { className: 'text-center text-navy/40 text-sm mt-4' }, `${formData.selectedVibes.length}/5 selected`),
              e('div', { className: 'flex gap-4 mt-8' },
                e('button', { onClick: () => setStep(2), className: 'flex-1 bg-navy/10 text-navy font-black py-4 rounded-2xl' }, 'Back'),
                e('button', { onClick: handleNext, className: 'flex-1 bg-primary text-white font-black py-4 rounded-2xl' }, 'Submit')
              )
            )
          );
        };

        // Mntase Pending
        const MntasePendingPage = ({ setView }) => e('div', { className: 'max-w-2xl mx-auto px-4 py-40 text-center animate-in' },
          e('div', { className: 'size-24 rounded-full bg-primary/10 text-primary flex items-center justify-center mx-auto mb-8' },
            e('span', { className: 'material-symbols-outlined text-6xl' }, 'mark_email_read')
          ),
          e('h2', { className: 'text-4xl font-black mb-4' }, 'Belonging is around the corner.'),
          e('p', { className: 'text-xl text-navy/60 mb-8' }, "You'll hear from us within 48 hours!"),
          e('button', { onClick: () => setView('home'), className: 'bg-navy text-white font-black px-10 py-4 rounded-2xl' }, 'Back to Home')
        );

        // Curator Application
        const CuratorApplicationPage = ({ setView, setUserRole }) => {
          const [step, setStep] = useState(1);
          const [formData, setFormData] = useState({
            firstName: '', lastName: '', cellNumber: '', email: '',
            referralSource: '', referrerName: '', whyHost: '',
            eventTypes: [], hostingLocation: '', locationArea: '', firstEventIdea: '',
            bankAccountName: '', bankName: '', accountNumber: '', branchCode: ''
          });
          const [errors, setErrors] = useState({});
          const validateStep1 = () => {
            const errs = {};
            if (!formData.firstName.trim()) errs.firstName = 'Required';
            if (!formData.lastName.trim()) errs.lastName = 'Required';
            if (!formData.cellNumber.trim()) errs.cellNumber = 'Required';
            if (!formData.email.trim() || !/\S+@\S+\.\S+/.test(formData.email)) errs.email = 'Valid email required';
            setErrors(errs);
            return Object.keys(errs).length === 0;
          };
          const validateStep2 = () => {
            const errs = {};
            if (!formData.referralSource) errs.referralSource = 'Required';
            if (!formData.whyHost.trim() || formData.whyHost.length < 50) errs.whyHost = 'Min 50 characters';
            setErrors(errs);
            return Object.keys(errs).length === 0;
          };
          const validateStep3 = () => {
            const errs = {};
            if (formData.eventTypes.length === 0) errs.eventTypes = 'Select at least one';
            if (!formData.hostingLocation.trim()) errs.hostingLocation = 'Required';
            if (!formData.locationArea) errs.locationArea = 'Required';
            if (!formData.firstEventIdea.trim()) errs.firstEventIdea = 'Required';
            setErrors(errs);
            return Object.keys(errs).length === 0;
          };
          const validateStep4 = () => {
            const errs = {};
            if (!formData.bankAccountName.trim()) errs.bankAccountName = 'Required';
            if (!formData.bankName) errs.bankName = 'Required';
            if (!formData.accountNumber.trim()) errs.accountNumber = 'Required';
            if (!formData.branchCode.trim()) errs.branchCode = 'Required';
            setErrors(errs);
            return Object.keys(errs).length === 0;
          };
          const handleNext = () => {
            if (step === 1 && validateStep1()) setStep(2);
            else if (step === 2 && validateStep2()) setStep(3);
            else if (step === 3 && validateStep3()) setStep(4);
            else if (step === 4 && validateStep4()) {
              setUserRole('curator-pending');
              setView('apply-pending');
            }
          };
          const toggleEventType = (id) => {
            setFormData(prev => ({
              ...prev,
              eventTypes: prev.eventTypes.includes(id) ? prev.eventTypes.filter(t => t !== id) : [...prev.eventTypes, id]
            }));
          };
          return e('div', { className: 'max-w-2xl mx-auto px-4 py-12 animate-in' },
            e('div', { className: 'flex items-center justify-center gap-2 mb-12' },
              [1,2,3,4].map(s => e(React.Fragment, { key: s },
                e('div', { className: `size-10 rounded-full flex items-center justify-center font-bold ${step >= s ? 'bg-navy text-white' : 'bg-navy/10 text-navy/40'}` }, s),
                s < 4 && e('div', { className: `w-12 h-1 rounded ${step > s ? 'bg-navy' : 'bg-navy/10'}` })
              ))
            ),
            step === 1 && e('div', { className: 'space-y-6' },
              e('h1', { className: 'text-4xl font-black text-center mb-8' }, 'Become a Curator'),
              e('div', { className: 'grid grid-cols-2 gap-4' },
                e('div', null,
                  e('label', { className: 'block font-bold mb-2' }, 'First Name'),
                  e('input', { type: 'text', value: formData.firstName, onChange: ev => setFormData({...formData, firstName: ev.target.value}), className: `w-full px-4 py-3 rounded-xl border-2 ${errors.firstName ? 'border-red-400' : 'border-navy/10'} focus:border-navy outline-none` }),
                  errors.firstName && e('p', { className: 'text-red-500 text-xs mt-1' }, errors.firstName)
                ),
                e('div', null,
                  e('label', { className: 'block font-bold mb-2' }, 'Last Name'),
                  e('input', { type: 'text', value: formData.lastName, onChange: ev => setFormData({...formData, lastName: ev.target.value}), className: `w-full px-4 py-3 rounded-xl border-2 ${errors.lastName ? 'border-red-400' : 'border-navy/10'} focus:border-navy outline-none` }),
                  errors.lastName && e('p', { className: 'text-red-500 text-xs mt-1' }, errors.lastName)
                )
              ),
              e('div', null,
                e('label', { className: 'block font-bold mb-2' }, 'Cell Number'),
                e('input', { type: 'tel', value: formData.cellNumber, onChange: ev => setFormData({...formData, cellNumber: ev.target.value}), placeholder: '072 123 4567', className: `w-full px-4 py-3 rounded-xl border-2 ${errors.cellNumber ? 'border-red-400' : 'border-navy/10'} focus:border-navy outline-none` }),
                errors.cellNumber && e('p', { className: 'text-red-500 text-xs mt-1' }, errors.cellNumber)
              ),
              e('div', null,
                e('label', { className: 'block font-bold mb-2' }, 'Email'),
                e('input', { type: 'email', value: formData.email, onChange: ev => setFormData({...formData, email: ev.target.value}), className: `w-full px-4 py-3 rounded-xl border-2 ${errors.email ? 'border-red-400' : 'border-navy/10'} focus:border-navy outline-none` }),
                errors.email && e('p', { className: 'text-red-500 text-xs mt-1' }, errors.email)
              ),
              e('button', { onClick: handleNext, className: 'w-full bg-navy text-white font-black py-4 rounded-2xl mt-4' }, 'Continue')
            ),
            step === 2 && e('div', { className: 'space-y-6' },
              e('h1', { className: 'text-4xl font-black text-center mb-8' }, 'Tell Us About You'),
              e('div', null,
                e('label', { className: 'block font-bold mb-2' }, 'How did you hear about us?'),
                e('select', { value: formData.referralSource, onChange: ev => setFormData({...formData, referralSource: ev.target.value}), className: `w-full px-4 py-3 rounded-xl border-2 ${errors.referralSource ? 'border-red-400' : 'border-navy/10'} focus:border-navy outline-none` },
                  e('option', { value: '' }, 'Select...'),
                  e('option', { value: 'friend' }, 'Friend'),
                  e('option', { value: 'social' }, 'Social media'),
                  e('option', { value: 'radio' }, 'Radio'),
                  e('option', { value: 'event' }, 'Event'),
                  e('option', { value: 'other' }, 'Other')
                ),
                errors.referralSource && e('p', { className: 'text-red-500 text-xs mt-1' }, errors.referralSource)
              ),
              formData.referralSource === 'friend' && e('div', null,
                e('label', { className: 'block font-bold mb-2' }, 'Who referred you?'),
                e('input', { type: 'text', value: formData.referrerName, onChange: ev => setFormData({...formData, referrerName: ev.target.value}), className: 'w-full px-4 py-3 rounded-xl border-2 border-navy/10 focus:border-navy outline-none' })
              ),
              e('div', null,
                e('label', { className: 'block font-bold mb-2' }, 'Why do you want to host?'),
                e('textarea', { value: formData.whyHost, onChange: ev => setFormData({...formData, whyHost: ev.target.value}), rows: 5, className: `w-full px-4 py-3 rounded-xl border-2 ${errors.whyHost ? 'border-red-400' : 'border-navy/10'} focus:border-navy outline-none resize-none` }),
                e('p', { className: 'text-navy/40 text-xs mt-1' }, `${formData.whyHost.length} chars (min 50)`),
                errors.whyHost && e('p', { className: 'text-red-500 text-xs' }, errors.whyHost)
              ),
              e('div', { className: 'flex gap-4' },
                e('button', { onClick: () => setStep(1), className: 'flex-1 bg-navy/10 text-navy font-black py-4 rounded-2xl' }, 'Back'),
                e('button', { onClick: handleNext, className: 'flex-1 bg-navy text-white font-black py-4 rounded-2xl' }, 'Continue')
              )
            ),
            step === 3 && e('div', { className: 'space-y-6' },
              e('h1', { className: 'text-4xl font-black text-center mb-8' }, 'Your Gatherings'),
              e('div', null,
                e('label', { className: 'block font-bold mb-3' }, 'What types of experiences?'),
                e('div', { className: 'space-y-3' },
                  EVENT_CATEGORIES.map(cat =>
                    e('button', { key: cat.id, type: 'button', onClick: () => toggleEventType(cat.id), className: `w-full p-4 rounded-xl border-2 text-left ${formData.eventTypes.includes(cat.id) ? 'border-navy bg-navy/5' : 'border-navy/10'}` },
                      e('div', { className: 'font-bold' }, cat.label),
                      e('div', { className: 'text-sm text-navy/60' }, cat.desc)
                    )
                  )
                ),
                errors.eventTypes && e('p', { className: 'text-red-500 text-xs mt-2' }, errors.eventTypes)
              ),
              e('div', null,
                e('label', { className: 'block font-bold mb-2' }, 'Where would you host?'),
                e('textarea', { value: formData.hostingLocation, onChange: ev => setFormData({...formData, hostingLocation: ev.target.value}), rows: 2, className: `w-full px-4 py-3 rounded-xl border-2 ${errors.hostingLocation ? 'border-red-400' : 'border-navy/10'} focus:border-navy outline-none resize-none` }),
                errors.hostingLocation && e('p', { className: 'text-red-500 text-xs mt-1' }, errors.hostingLocation)
              ),
              e('div', null,
                e('label', { className: 'block font-bold mb-2' }, 'Area'),
                e('select', { value: formData.locationArea, onChange: ev => setFormData({...formData, locationArea: ev.target.value}), className: `w-full px-4 py-3 rounded-xl border-2 ${errors.locationArea ? 'border-red-400' : 'border-navy/10'} focus:border-navy outline-none` },
                  e('option', { value: '' }, 'Select...'),
                  ...JHB_AREAS.map(a => e('option', { key: a, value: a }, a))
                ),
                errors.locationArea && e('p', { className: 'text-red-500 text-xs mt-1' }, errors.locationArea)
              ),
              e('div', null,
                e('label', { className: 'block font-bold mb-2' }, 'First event idea'),
                e('textarea', { value: formData.firstEventIdea, onChange: ev => setFormData({...formData, firstEventIdea: ev.target.value}), rows: 3, className: `w-full px-4 py-3 rounded-xl border-2 ${errors.firstEventIdea ? 'border-red-400' : 'border-navy/10'} focus:border-navy outline-none resize-none` }),
                errors.firstEventIdea && e('p', { className: 'text-red-500 text-xs mt-1' }, errors.firstEventIdea)
              ),
              e('div', { className: 'flex gap-4' },
                e('button', { onClick: () => setStep(2), className: 'flex-1 bg-navy/10 text-navy font-black py-4 rounded-2xl' }, 'Back'),
                e('button', { onClick: handleNext, className: 'flex-1 bg-navy text-white font-black py-4 rounded-2xl' }, 'Continue')
              )
            ),
            step === 4 && e('div', { className: 'space-y-6' },
              e('h1', { className: 'text-4xl font-black text-center mb-8' }, 'Payout Details'),
              e('div', { className: 'p-4 bg-green-50 rounded-xl border border-green-200 mb-4' },
                e('p', { className: 'text-sm text-green-700' }, '🔒 Secure & encrypted. Only used for payouts.')
              ),
              e('div', null,
                e('label', { className: 'block font-bold mb-2' }, 'Account Holder Name'),
                e('input', { type: 'text', value: formData.bankAccountName, onChange: ev => setFormData({...formData, bankAccountName: ev.target.value}), className: `w-full px-4 py-3 rounded-xl border-2 ${errors.bankAccountName ? 'border-red-400' : 'border-navy/10'} focus:border-navy outline-none` }),
                errors.bankAccountName && e('p', { className: 'text-red-500 text-xs mt-1' }, errors.bankAccountName)
              ),
              e('div', null,
                e('label', { className: 'block font-bold mb-2' }, 'Bank'),
                e('select', { value: formData.bankName, onChange: ev => setFormData({...formData, bankName: ev.target.value}), className: `w-full px-4 py-3 rounded-xl border-2 ${errors.bankName ? 'border-red-400' : 'border-navy/10'} focus:border-navy outline-none` },
                  e('option', { value: '' }, 'Select...'),
                  ...SA_BANKS.map(b => e('option', { key: b, value: b }, b))
                ),
                errors.bankName && e('p', { className: 'text-red-500 text-xs mt-1' }, errors.bankName)
              ),
              e('div', { className: 'grid grid-cols-2 gap-4' },
                e('div', null,
                  e('label', { className: 'block font-bold mb-2' }, 'Account Number'),
                  e('input', { type: 'text', value: formData.accountNumber, onChange: ev => setFormData({...formData, accountNumber: ev.target.value}), className: `w-full px-4 py-3 rounded-xl border-2 ${errors.accountNumber ? 'border-red-400' : 'border-navy/10'} focus:border-navy outline-none` }),
                  errors.accountNumber && e('p', { className: 'text-red-500 text-xs mt-1' }, errors.accountNumber)
                ),
                e('div', null,
                  e('label', { className: 'block font-bold mb-2' }, 'Branch Code'),
                  e('input', { type: 'text', value: formData.branchCode, onChange: ev => setFormData({...formData, branchCode: ev.target.value}), className: `w-full px-4 py-3 rounded-xl border-2 ${errors.branchCode ? 'border-red-400' : 'border-navy/10'} focus:border-navy outline-none` }),
                  errors.branchCode && e('p', { className: 'text-red-500 text-xs mt-1' }, errors.branchCode)
                )
              ),
              e('div', { className: 'flex gap-4' },
                e('button', { onClick: () => setStep(3), className: 'flex-1 bg-navy/10 text-navy font-black py-4 rounded-2xl' }, 'Back'),
                e('button', { onClick: handleNext, className: 'flex-1 bg-navy text-white font-black py-4 rounded-2xl' }, 'Submit')
              )
            )
          );
        };

        // Curator Pending
        const CuratorPendingPage = ({ setView }) => e('div', { className: 'max-w-2xl mx-auto px-4 py-40 text-center animate-in' },
          e('div', { className: 'size-24 rounded-full bg-navy/10 text-navy flex items-center justify-center mx-auto mb-8' },
            e('span', { className: 'material-symbols-outlined text-6xl' }, 'hourglass_top')
          ),
          e('h2', { className: 'text-4xl font-black mb-4' }, 'Thanks for applying!'),
          e('p', { className: 'text-xl text-navy/60 mb-8' }, "We'll be in touch within 48 hours."),
          e('button', { onClick: () => setView('home'), className: 'bg-navy text-white font-black px-10 py-4 rounded-2xl' }, 'Back to Home')
        );

        // Booking Status
        const BookingStatusPage = ({ setView }) => e('div', { className: 'max-w-2xl mx-auto px-4 py-40 text-center animate-in' },
          e('div', { className: 'size-24 rounded-full bg-primary/10 text-primary flex items-center justify-center mx-auto mb-8' },
            e('span', { className: 'material-symbols-outlined text-6xl' }, 'mark_email_read')
          ),
          e('h2', { className: 'text-4xl font-black mb-4' }, 'Booking pending'),
          e('p', { className: 'text-xl text-navy/60 mb-8' }, "Curator will review and respond within 24 hours."),
          e('button', { onClick: () => setView('explore'), className: 'bg-navy text-white font-black px-10 py-4 rounded-2xl' }, 'Browse More')
        );

        // Inclusivity Manifesto
        const InclusivityManifestoPage = ({ setView }) => e('div', { className: 'max-w-4xl mx-auto px-4 py-16 animate-in' },
          e('div', { className: 'text-center mb-16' },
            e('h1', { className: 'text-5xl font-black mb-6' }, 'Inclusivity Manifesto'),
            e('p', { className: 'text-xl text-navy/60 italic' }, '"Come be with us, Mntase."')
          ),
          e('p', { className: 'text-xl text-navy/70 mb-12 text-center' }, 'Belonging is not accidental — it must be designed, protected, and respected.'),
          ...[
            { num: '1', title: 'Belonging Is a Right, Not a Reward', text: 'If you are here, you belong. No performance required.' },
            { num: '2', title: 'Homes Are Sovereign Spaces', text: 'Curators set the rules. We support, never override.' },
          ].map(p => e('div', { key: p.num, className: 'bg-white rounded-3xl p-8 shadow-lg mb-8' },
            e('div', { className: 'flex items-start gap-4' },
              e('div', { className: 'size-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0' },
                e('span', { className: 'text-primary font-black text-xl' }, p.num)
              ),
              e('div', null,
                e('h2', { className: 'text-2xl font-black mb-3' }, p.title),
                e('p', { className: 'text-navy/70' }, p.text)
              )
            )
          )),
          e('div', { className: 'bg-primary/5 rounded-3xl p-8 mb-8 border-2 border-primary/20' },
            e('div', { className: 'flex items-start gap-4' },
              e('div', { className: 'size-12 rounded-full bg-primary flex items-center justify-center flex-shrink-0' },
                e('span', { className: 'text-white font-black text-xl' }, '3')
              ),
              e('div', null,
                e('h2', { className: 'text-2xl font-black mb-3' }, 'Belonging Includes the Right to Leave'),
                e('p', { className: 'text-navy/70 mb-6' }, 'No one should feel trapped. We build exit protocols into every event.'),
                e('div', { className: 'bg-white rounded-2xl p-6' },
                  e('h3', { className: 'font-bold text-lg text-primary mb-4' }, 'Safe Exit Language'),
                  e('div', { className: 'grid md:grid-cols-2 gap-4' },
                    e('div', { className: 'p-4 bg-navy/5 rounded-xl' },
                      e('p', { className: 'font-black text-lg' }, '"Ndilungile, Mntase"'),
                      e('p', { className: 'text-sm text-navy/60' }, 'I need a private check-in.')
                    ),
                    e('div', { className: 'p-4 bg-navy/5 rounded-xl' },
                      e('p', { className: 'font-black text-lg' }, '"Yizo, Mntase"'),
                      e('p', { className: 'text-sm text-navy/60' }, 'I am leaving now. No questions.')
                    )
                  )
                )
              )
            )
          ),
          ...[
            { num: '4', title: 'Inclusion ≠ Forced Compatibility', text: 'Curators may decline guests. This is curation, not rejection.' },
            { num: '5', title: 'We Track Patterns, Not People', text: 'System-level monitoring. We intervene gently, privately, rarely.' },
            { num: '6', title: 'Dignity Over Optimisation', text: 'Care over growth. We never sacrifice trust for scale.' },
            { num: '7', title: 'Language Shapes Culture', text: '"Mntase" means family. We speak invitations, not transactions.' },
          ].map(p => e('div', { key: p.num, className: 'bg-white rounded-3xl p-8 shadow-lg mb-8' },
            e('div', { className: 'flex items-start gap-4' },
              e('div', { className: 'size-12 rounded-full bg-primary/10 flex items-center justify-center flex-shrink-0' },
                e('span', { className: 'text-primary font-black text-xl' }, p.num)
              ),
              e('div', null,
                e('h2', { className: 'text-2xl font-black mb-3' }, p.title),
                e('p', { className: 'text-navy/70' }, p.text)
              )
            )
          )),
          e('div', { className: 'bg-navy text-white rounded-3xl p-12 text-center' },
            e('h2', { className: 'text-3xl font-black mb-6' }, 'Our Promise'),
            e('p', { className: 'text-lg mb-2' }, 'You will always have the right to leave.'),
            e('p', { className: 'text-lg mb-4' }, 'You will always be treated with dignity.'),
            e('p', { className: 'text-primary font-black text-2xl' }, 'Come be with us, Mntase.')
          ),
          e('div', { className: 'text-center mt-12' },
            e('button', { onClick: () => setView('home'), className: 'bg-primary text-white font-black px-10 py-4 rounded-2xl' }, 'Back to Home')
          )
        );

        // Safe Exit Page
        const SafeExitPage = ({ setView }) => e('div', { className: 'max-w-3xl mx-auto px-4 py-16 animate-in' },
          e('div', { className: 'text-center mb-12' },
            e('span', { className: 'material-symbols-outlined text-6xl text-primary mb-4' }, 'shield'),
            e('h1', { className: 'text-5xl font-black mb-4' }, 'Your Right to Leave'),
            e('p', { className: 'text-xl text-navy/60 italic' }, 'Come be with us. And leave when you need to.')
          ),
          e('div', { className: 'grid md:grid-cols-2 gap-6 mb-8' },
            e('div', { className: 'bg-primary/5 border-2 border-primary/20 rounded-3xl p-8' },
              e('h2', { className: 'text-2xl font-black mb-4' }, 'Need a check-in?'),
              e('div', { className: 'bg-white rounded-2xl p-6 text-center' },
                e('p', { className: 'text-3xl font-black text-primary' }, '"Ndilungile, Mntase"')
              ),
              e('p', { className: 'text-navy/60 mt-4 text-sm' }, 'Speak with the host privately.')
            ),
            e('div', { className: 'bg-navy/5 border-2 border-navy/20 rounded-3xl p-8' },
              e('h2', { className: 'text-2xl font-black mb-4' }, 'Need to leave?'),
              e('div', { className: 'bg-white rounded-2xl p-6 text-center' },
                e('p', { className: 'text-3xl font-black text-navy' }, '"Yizo, Mntase"')
              ),
              e('p', { className: 'text-navy/60 mt-4 text-sm' }, 'Leave immediately. No questions.')
            )
          ),
          e('div', { className: 'bg-primary text-white rounded-3xl p-8 text-center' },
            e('p', { className: 'text-xl' }, 'Belonging includes the right to go.'),
            e('p', { className: 'text-2xl font-black mt-4' }, 'Always.')
          ),
          e('div', { className: 'text-center mt-12' },
            e('button', { onClick: () => setView('inclusivity'), className: 'text-primary font-bold hover:underline' }, 'Read full Inclusivity Manifesto →')
          )
        );

        // Main App
        function App() {
          const [currentView, setCurrentView] = useState('home');
          const [selectedEvent, setSelectedEvent] = useState(null);
          const [userProfile, setUserProfile] = useState(null);
          const [userRole, setUserRole] = useState('none');
          const [bookingStatus, setBookingStatus] = useState('none');

          const getCategoryFilter = () => currentView.startsWith('explore-') ? currentView.replace('explore-', '') : null;

          const renderView = () => {
            switch (currentView) {
              case 'home': return e(LandingPage, { setView: setCurrentView });
              case 'explore':
              case 'explore-sit':
              case 'explore-walk':
              case 'explore-listen':
              case 'explore-play':
              case 'explore-quiet':
                return e(ExplorePage, { setView: setCurrentView, setSelectedEvent, categoryFilter: getCategoryFilter() });
              case 'event-detail':
                return e(EventDetailPage, { event: selectedEvent, setView: setCurrentView, userProfile, setBookingStatus });
              case 'join-movement':
                return e(JoinMovementPage, { setView: setCurrentView });
              case 'mntase-apply':
                return e(MntaseApplicationPage, { setView: setCurrentView, setUserProfile });
              case 'mntase-pending':
                return e(MntasePendingPage, { setView: setCurrentView });
              case 'apply':
                return e(CuratorApplicationPage, { setView: setCurrentView, setUserRole });
              case 'apply-pending':
                return e(CuratorPendingPage, { setView: setCurrentView });
              case 'booking-status':
                return e(BookingStatusPage, { setView: setCurrentView });
              case 'inclusivity':
                return e(InclusivityManifestoPage, { setView: setCurrentView });
              case 'safe-exit':
                return e(SafeExitPage, { setView: setCurrentView });
              default:
                return e(LandingPage, { setView: setCurrentView });
            }
          };

          return e('div', { className: 'min-h-screen flex flex-col bg-background' },
            ['home', 'explore'].includes(currentView) || currentView.startsWith('explore-') ? e(ValentineBanner, { onExplore: () => setCurrentView('explore') }) : null,
            e(Header, { currentView, setView: setCurrentView, userRole }),
            e('main', { className: 'flex-1' }, renderView()),
            e(Footer, { setView: setCurrentView })
          );
        }

        const root = createRoot(document.getElementById('root'));
        root.render(e(App));
    </script>
</body>
</html>
